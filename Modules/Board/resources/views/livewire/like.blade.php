<div class="mb-5 px-5 sm:mb-0 sm:mt-[30px] sm:px-0">
  @if ($this->judgeLike())
    <div>
      <div class="flex flex-col items-start space-x-1">
        <button class="flex items-center justify-center rounded text-lg" wire:click="getLikeStatus"
          @mouseenter="showTooltip = true" @mouseleave="showTooltip = false">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9.5625 2.53711V2.0625C9.5625 1.76413 9.68112 1.47807 9.89209 1.26709C10.1031 1.05611 10.3891 0.937501 10.6875 0.9375C11.2842 0.9375 11.8564 1.17472 12.2783 1.59668C12.7003 2.01864 12.9375 2.59076 12.9375 3.1875C12.9375 4.13697 12.7228 5.03771 12.3406 5.84253V5.84326C12.3262 5.87354 12.3245 5.92298 12.3494 5.96851C12.3604 5.98857 12.3715 5.99701 12.375 5.99927C12.3761 5.99997 12.3744 6 12.3765 6H14.721C15.7249 6 16.7032 6.68774 16.8208 7.78931C16.8566 8.12535 16.875 8.46594 16.875 8.81177L16.8669 9.21973C16.7828 11.2553 16.0477 13.2145 14.7642 14.8059C14.3514 15.3186 13.7304 15.5625 13.1221 15.5625H10.1104C9.6877 15.5625 9.26687 15.4946 8.86597 15.3618L8.86451 15.3611L6.52881 14.5811V14.5803C6.24234 14.4852 5.94224 14.4373 5.64038 14.4375H5.23389C5.28216 14.9887 4.89452 15.5623 4.23853 15.5625H3.55738C2.68548 15.5625 1.81832 15.0504 1.54029 14.1379C1.26428 13.2321 1.12425 12.29 1.125 11.343C1.1251 10.1067 1.35986 8.92478 1.78711 7.83911L1.78784 7.83838C2.11531 7.01025 2.93217 6.5625 3.75 6.5625H4.53955C4.93287 6.5625 5.22394 6.76487 5.38843 7.04297C5.63314 6.94772 5.86476 6.77223 6.05493 6.53027C6.68539 5.72591 7.47717 5.06227 8.37891 4.5813L8.37964 4.58057C8.84402 4.33393 9.19762 3.99224 9.36109 3.58301V3.58228C9.49408 3.24996 9.56256 2.89505 9.5625 2.53711ZM3.75 7.6875C3.31886 7.6875 2.96566 7.91853 2.83374 8.25073C2.45708 9.20785 2.25 10.2508 2.25 11.3438V11.3445C2.24937 12.1799 2.37276 13.0107 2.61621 13.8098C2.72669 14.1724 3.09578 14.4375 3.55738 14.4375H4.06128C4.00732 14.3221 3.9551 14.2054 3.90674 14.0859C3.90413 14.0795 3.90251 14.0727 3.90015 14.0662C3.56193 13.2239 3.37574 12.3052 3.37574 11.3438C3.37388 10.059 3.71255 8.79795 4.35498 7.6875H3.75ZM10.6875 2.53711C10.6876 3.03808 10.5923 3.53462 10.4063 3.99976C10.1152 4.7289 9.52773 5.24516 8.90772 5.57446L8.90699 5.57373C8.23917 5.93009 7.64313 6.40557 7.14698 6.97485L6.94043 7.22461C6.55957 7.70949 6.00467 8.10425 5.34888 8.21631C4.79252 9.16374 4.49901 10.2432 4.50074 11.343V11.3438C4.50074 12.0334 4.61498 12.6947 4.82227 13.3125H5.63965C6.0628 13.3123 6.48325 13.3804 6.88477 13.5139H6.8855L9.219 14.2932C9.50655 14.3884 9.80856 14.4375 10.1104 14.4375H13.1221C13.4407 14.4375 13.7189 14.3101 13.8882 14.0999C15.0957 12.6028 15.7529 10.7366 15.75 8.81323V8.8125C15.75 8.50625 15.734 8.20525 15.7024 7.90869C15.6565 7.47875 15.256 7.125 14.721 7.125H10.6875C10.3768 7.125 10.125 6.87316 10.125 6.5625C10.125 6.25184 10.3768 6 10.6875 6H11.2112C11.1932 5.78883 11.2253 5.56782 11.3247 5.35913C11.6369 4.70158 11.8125 3.96583 11.8125 3.1875C11.8125 2.88913 11.6939 2.60307 11.4829 2.39209C11.2719 2.18111 10.9859 2.0625 10.6875 2.0625V2.53711Z"
              fill="#3289FA" />
          </svg>
          <p class="pl-1 text-[15px] font-bold text-[#3289FA]">いいね！</p>
        </button>

        <div>
          <div>
            <div class="cursor-pointer" x-on:click.prevent="$dispatch('open-modal', 'like-modal')">
              <svg width="47" height="33" viewBox="0 0 47 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect y="8" width="47" height="25" rx="4" fill="#F7F7F7" />
                <text id="dynamicNumber" x="70%" y="28" text-anchor="middle" dominant-baseline="ideographic"
                  font-size="12" fill="#343434">
                  {{ $likeCount }}
                </text>
                <path d="M12 0L17.1962 9H6.80385L12 0Z" fill="#F7F7F7" />
                <path
                  d="M16.5 14.2552V13.8333C16.5 13.5681 16.6054 13.3138 16.793 13.1263C16.9805 12.9387 17.2348 12.8333 17.5 12.8333C18.0304 12.8333 18.539 13.0442 18.9141 13.4193C19.2891 13.7943 19.5 14.3029 19.5 14.8333C19.5 15.6773 19.3091 16.4779 18.9694 17.1933V17.194C18.9566 17.2209 18.9551 17.2648 18.9772 17.3053C18.987 17.3232 18.9969 17.3307 19 17.3327C19.001 17.3333 18.9995 17.3333 19.0013 17.3333H21.0853C21.9777 17.3333 22.8473 17.9446 22.9518 18.9238C22.9837 19.2225 23 19.5253 23 19.8327L22.9928 20.1953C22.918 22.0047 22.2646 23.7462 21.1237 25.1608C20.7568 25.6165 20.2048 25.8333 19.6641 25.8333H16.987C16.6113 25.8333 16.2372 25.7729 15.8809 25.6549L15.8796 25.6543L13.8034 24.9609V24.9603C13.5488 24.8757 13.282 24.8332 13.0137 24.8333H12.6523C12.6952 25.3233 12.3507 25.8332 11.7676 25.8333H11.1621C10.3871 25.8333 9.61628 25.3781 9.36914 24.567C9.12381 23.7618 8.99934 22.9244 9 22.0827C9.00009 20.9837 9.20876 19.9331 9.58854 18.9681L9.5892 18.9674C9.88027 18.2313 10.6064 17.8333 11.3333 17.8333H12.0352C12.3848 17.8333 12.6435 18.0132 12.7897 18.2604C13.0072 18.1757 13.2131 18.0197 13.3822 17.8047C13.9426 17.0897 14.6464 16.4998 15.4479 16.0722L15.4486 16.0716C15.8614 15.8524 16.1757 15.5486 16.321 15.1849V15.1842C16.4392 14.8888 16.5001 14.5734 16.5 14.2552ZM11.3333 18.8333C10.9501 18.8333 10.6361 19.0387 10.5189 19.334C10.1841 20.1847 10 21.1118 10 22.0833V22.084C9.99944 22.8265 10.1091 23.565 10.3255 24.2754C10.4237 24.5977 10.7518 24.8333 11.1621 24.8333H11.61C11.5621 24.7308 11.5156 24.627 11.4727 24.5208C11.4703 24.5151 11.4689 24.509 11.4668 24.5032C11.1662 23.7546 11.0007 22.9379 11.0007 22.0833C10.999 20.9413 11.3 19.8204 11.8711 18.8333H11.3333ZM17.5 14.2552C17.5001 14.7005 17.4154 15.1419 17.25 15.5553C16.9913 16.2034 16.4691 16.6623 15.918 16.9551L15.9173 16.9544C15.3237 17.2712 14.7939 17.6938 14.3529 18.1998L14.1693 18.4219C13.8307 18.8529 13.3375 19.2038 12.7546 19.3034C12.26 20.1455 11.9991 21.105 12.0007 22.0827V22.0833C12.0007 22.6964 12.1022 23.2842 12.2865 23.8333H13.013C13.3892 23.8331 13.7629 23.8937 14.1198 24.0123H14.1204L16.1947 24.7051C16.4503 24.7897 16.7187 24.8333 16.987 24.8333H19.6641C19.9473 24.8333 20.1946 24.7201 20.3451 24.5332C21.4184 23.2025 22.0026 21.5436 22 19.834V19.8333C22 19.5611 21.9858 19.2935 21.9577 19.0299C21.9169 18.6478 21.5609 18.3333 21.0853 18.3333H17.5C17.2239 18.3333 17 18.1095 17 17.8333C17 17.5572 17.2239 17.3333 17.5 17.3333H17.9655C17.9495 17.1456 17.978 16.9492 18.0664 16.7637C18.3439 16.1792 18.5 15.5252 18.5 14.8333C18.5 14.5681 18.3946 14.3138 18.207 14.1263C18.0195 13.9387 17.7652 13.8333 17.5 13.8333V14.2552Z"
                  fill="#3289FA" />
              </svg>
            </div>
            <x-modal-alert name="like-modal" title="いいねした人">
              <div class="flex flex-col">
                <div class="max-h-96 overflow-y-auto border">
                  @if ($this->likes->isNotEmpty())
                    @foreach ($this->likes as $like)
                      <div class="flex flex-row items-center space-x-3 border-b px-2 py-2">
                        <div
                          class="flex h-8 w-8 items-center justify-center overflow-hidden rounded-full bg-gray-200 text-4xl text-gray-800">
                          @if (is_null($like->user))
                            ?
                          @else
                            @if ($like->user->icon)
                              <img class="h-full w-full" src="{{ route('profile.icon', ['id' => $like->user->id]) }}"
                                alt="アイコン">
                            @else
                              <i class="fa-solid fa-image scale-50"></i>
                            @endif
                          @endif
                        </div>
                        <p class="truncate">{{ $like->user->name ?? 'UnknownUser' }}</p>
                      </div>
                    @endforeach
                  @else
                    いいねした人はいません
                  @endif
                </div>

                <div class="m-2 flex justify-end">
                  <x-secondary-button x-on:click="$dispatch('close')">
                    閉じる
                  </x-secondary-button>
                </div>
              </div>
            </x-modal-alert>
          </div>
        </div>
      </div>
    @else
      <div>
        <div class="flex flex-col items-start space-x-1">
          <button class="flex items-center justify-center rounded text-lg" wire:click="getLikeStatus"
            @mouseenter="showTooltip = true" @mouseleave="showTooltip = false">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M9.5625 2.53711V2.0625C9.5625 1.76413 9.68112 1.47807 9.89209 1.26709C10.1031 1.05611 10.3891 0.937501 10.6875 0.9375C11.2842 0.9375 11.8564 1.17472 12.2783 1.59668C12.7003 2.01864 12.9375 2.59076 12.9375 3.1875C12.9375 4.13697 12.7228 5.03771 12.3406 5.84253V5.84326C12.3262 5.87354 12.3245 5.92298 12.3494 5.96851C12.3604 5.98857 12.3715 5.99701 12.375 5.99927C12.3761 5.99997 12.3744 6 12.3765 6H14.721C15.7249 6 16.7032 6.68774 16.8208 7.78931C16.8566 8.12535 16.875 8.46594 16.875 8.81177L16.8669 9.21973C16.7828 11.2553 16.0477 13.2145 14.7642 14.8059C14.3514 15.3186 13.7304 15.5625 13.1221 15.5625H10.1104C9.6877 15.5625 9.26687 15.4946 8.86597 15.3618L8.86451 15.3611L6.52881 14.5811V14.5803C6.24234 14.4852 5.94224 14.4373 5.64038 14.4375H5.23389C5.28216 14.9887 4.89452 15.5623 4.23853 15.5625H3.55738C2.68548 15.5625 1.81832 15.0504 1.54029 14.1379C1.26428 13.2321 1.12425 12.29 1.125 11.343C1.1251 10.1067 1.35986 8.92478 1.78711 7.83911L1.78784 7.83838C2.11531 7.01025 2.93217 6.5625 3.75 6.5625H4.53955C4.93287 6.5625 5.22394 6.76487 5.38843 7.04297C5.63314 6.94772 5.86476 6.77223 6.05493 6.53027C6.68539 5.72591 7.47717 5.06227 8.37891 4.5813L8.37964 4.58057C8.84402 4.33393 9.19762 3.99224 9.36109 3.58301V3.58228C9.49408 3.24996 9.56256 2.89505 9.5625 2.53711ZM3.75 7.6875C3.31886 7.6875 2.96566 7.91853 2.83374 8.25073C2.45708 9.20785 2.25 10.2508 2.25 11.3438V11.3445C2.24937 12.1799 2.37276 13.0107 2.61621 13.8098C2.72669 14.1724 3.09578 14.4375 3.55738 14.4375H4.06128C4.00732 14.3221 3.9551 14.2054 3.90674 14.0859C3.90413 14.0795 3.90251 14.0727 3.90015 14.0662C3.56193 13.2239 3.37574 12.3052 3.37574 11.3438C3.37388 10.059 3.71255 8.79795 4.35498 7.6875H3.75ZM10.6875 2.53711C10.6876 3.03808 10.5923 3.53462 10.4063 3.99976C10.1152 4.7289 9.52773 5.24516 8.90772 5.57446L8.90699 5.57373C8.23917 5.93009 7.64313 6.40557 7.14698 6.97485L6.94043 7.22461C6.55957 7.70949 6.00467 8.10425 5.34888 8.21631C4.79252 9.16374 4.49901 10.2432 4.50074 11.343V11.3438C4.50074 12.0334 4.61498 12.6947 4.82227 13.3125H5.63965C6.0628 13.3123 6.48325 13.3804 6.88477 13.5139H6.8855L9.219 14.2932C9.50655 14.3884 9.80856 14.4375 10.1104 14.4375H13.1221C13.4407 14.4375 13.7189 14.3101 13.8882 14.0999C15.0957 12.6028 15.7529 10.7366 15.75 8.81323V8.8125C15.75 8.50625 15.734 8.20525 15.7024 7.90869C15.6565 7.47875 15.256 7.125 14.721 7.125H10.6875C10.3768 7.125 10.125 6.87316 10.125 6.5625C10.125 6.25184 10.3768 6 10.6875 6H11.2112C11.1932 5.78883 11.2253 5.56782 11.3247 5.35913C11.6369 4.70158 11.8125 3.96583 11.8125 3.1875C11.8125 2.88913 11.6939 2.60307 11.4829 2.39209C11.2719 2.18111 10.9859 2.0625 10.6875 2.0625V2.53711Z"
                fill="#3289FA" />
            </svg>
            <p class="pl-1 text-[15px] font-bold text-[#3289FA]">いいね！</p>
          </button>

          <div>
            <div class="cursor-pointer" x-on:click.prevent="$dispatch('open-modal', 'like-modal')">
              <svg width="47" height="33" viewBox="0 0 47 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect y="8" width="47" height="25" rx="4" fill="#F7F7F7" />
                <text id="dynamicNumber" x="70%" y="28" text-anchor="middle" dominant-baseline="ideographic"
                  font-size="12" fill="#343434">
                  {{ $likeCount }}
                </text>
                <path d="M12 0L17.1962 9H6.80385L12 0Z" fill="#F7F7F7" />
                <path
                  d="M16.5 14.2552V13.8333C16.5 13.5681 16.6054 13.3138 16.793 13.1263C16.9805 12.9387 17.2348 12.8333 17.5 12.8333C18.0304 12.8333 18.539 13.0442 18.9141 13.4193C19.2891 13.7943 19.5 14.3029 19.5 14.8333C19.5 15.6773 19.3091 16.4779 18.9694 17.1933V17.194C18.9566 17.2209 18.9551 17.2648 18.9772 17.3053C18.987 17.3232 18.9969 17.3307 19 17.3327C19.001 17.3333 18.9995 17.3333 19.0013 17.3333H21.0853C21.9777 17.3333 22.8473 17.9446 22.9518 18.9238C22.9837 19.2225 23 19.5253 23 19.8327L22.9928 20.1953C22.918 22.0047 22.2646 23.7462 21.1237 25.1608C20.7568 25.6165 20.2048 25.8333 19.6641 25.8333H16.987C16.6113 25.8333 16.2372 25.7729 15.8809 25.6549L15.8796 25.6543L13.8034 24.9609V24.9603C13.5488 24.8757 13.282 24.8332 13.0137 24.8333H12.6523C12.6952 25.3233 12.3507 25.8332 11.7676 25.8333H11.1621C10.3871 25.8333 9.61628 25.3781 9.36914 24.567C9.12381 23.7618 8.99934 22.9244 9 22.0827C9.00009 20.9837 9.20876 19.9331 9.58854 18.9681L9.5892 18.9674C9.88027 18.2313 10.6064 17.8333 11.3333 17.8333H12.0352C12.3848 17.8333 12.6435 18.0132 12.7897 18.2604C13.0072 18.1757 13.2131 18.0197 13.3822 17.8047C13.9426 17.0897 14.6464 16.4998 15.4479 16.0722L15.4486 16.0716C15.8614 15.8524 16.1757 15.5486 16.321 15.1849V15.1842C16.4392 14.8888 16.5001 14.5734 16.5 14.2552ZM11.3333 18.8333C10.9501 18.8333 10.6361 19.0387 10.5189 19.334C10.1841 20.1847 10 21.1118 10 22.0833V22.084C9.99944 22.8265 10.1091 23.565 10.3255 24.2754C10.4237 24.5977 10.7518 24.8333 11.1621 24.8333H11.61C11.5621 24.7308 11.5156 24.627 11.4727 24.5208C11.4703 24.5151 11.4689 24.509 11.4668 24.5032C11.1662 23.7546 11.0007 22.9379 11.0007 22.0833C10.999 20.9413 11.3 19.8204 11.8711 18.8333H11.3333ZM17.5 14.2552C17.5001 14.7005 17.4154 15.1419 17.25 15.5553C16.9913 16.2034 16.4691 16.6623 15.918 16.9551L15.9173 16.9544C15.3237 17.2712 14.7939 17.6938 14.3529 18.1998L14.1693 18.4219C13.8307 18.8529 13.3375 19.2038 12.7546 19.3034C12.26 20.1455 11.9991 21.105 12.0007 22.0827V22.0833C12.0007 22.6964 12.1022 23.2842 12.2865 23.8333H13.013C13.3892 23.8331 13.7629 23.8937 14.1198 24.0123H14.1204L16.1947 24.7051C16.4503 24.7897 16.7187 24.8333 16.987 24.8333H19.6641C19.9473 24.8333 20.1946 24.7201 20.3451 24.5332C21.4184 23.2025 22.0026 21.5436 22 19.834V19.8333C22 19.5611 21.9858 19.2935 21.9577 19.0299C21.9169 18.6478 21.5609 18.3333 21.0853 18.3333H17.5C17.2239 18.3333 17 18.1095 17 17.8333C17 17.5572 17.2239 17.3333 17.5 17.3333H17.9655C17.9495 17.1456 17.978 16.9492 18.0664 16.7637C18.3439 16.1792 18.5 15.5252 18.5 14.8333C18.5 14.5681 18.3946 14.3138 18.207 14.1263C18.0195 13.9387 17.7652 13.8333 17.5 13.8333V14.2552Z"
                  fill="#3289FA" />
              </svg>
            </div>
            <x-modal-alert name="like-modal" title="いいねした人">
              <div class="flex flex-col">
                <div class="max-h-96 overflow-y-auto border">
                  @if ($this->likes->isNotEmpty())
                    @foreach ($this->likes as $like)
                      <div class="flex flex-row items-center space-x-3 border-b px-2 py-2">
                        <div
                          class="flex h-8 w-8 items-center justify-center overflow-hidden rounded-full bg-gray-200 text-4xl text-gray-800">
                          @if ($like->user->icon)
                            <img class="h-full w-full" src="{{ route('profile.icon', ['id' => $like->user->id]) }}"
                              alt="アイコン">
                          @else
                            <i class="fa-solid fa-image scale-50"></i>
                          @endif
                        </div>
                        <p class="truncate">{{ $like->user->name }}</p>
                      </div>
                    @endforeach
                  @else
                    いいねした人はいません
                  @endif
                </div>

                <div class="mt-6 flex justify-end">
                  <x-secondary-button x-on:click="$dispatch('close')">
                    閉じる
                  </x-secondary-button>
                </div>
              </div>
            </x-modal-alert>
          </div>
        </div>
      </div>
  @endif
</div>
